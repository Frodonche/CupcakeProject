{"version":3,"file":"cremes.service.js","sourceRoot":"","sources":["../../src/services/cremes.service.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,yCAAsC;AACtC,yCAA4C;AAE5C,+BAAkD;AAClD,8CAAoD;AAEpD,uEAAkE;AAGlE,IAAa,aAAa,GAA1B,MAAa,aAAa;IACtB;;OAEG;IACH,YAAoB,sBAA6C;QAA7C,2BAAsB,GAAtB,sBAAsB,CAAuB;IACjE,CAAC;IAED;;;;OAIG;IACH,OAAO;QACH,OAAO,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;IAC9C,CAAC;IAED;;;;;;OAMG;IACH,GAAG,CAAC,EAAU;QACV,OAAO,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC1C,IAAI,CACD,sBAAU,CAAC,CAAC,CAAC,EAAE,CAAC,iBAAU,CAAC,WAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAC/D,mBAAO,CAAC,CAAC,CAAC,EAAE,CACR,CAAC,CAAC,CAAC,CAAC,CAAC;YACD,SAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACP,iBAAU,CAAC,WAAI,CAAC,QAAQ,CAAC,2BAA2B,EAAE,UAAU,CAAC,CAAC,CACzE,CACJ,CAAC;IACV,CAAC;CACJ,CAAA;AAlCY,aAAa;IADzB,iBAAU,EAAE;qCAKmC,+CAAqB;GAJxD,aAAa,CAkCzB;AAlCY,sCAAa","sourcesContent":["import { Biim } from '@hapiness/biim';\nimport { Injectable } from '@hapiness/core';\n\nimport { Observable, of, throwError } from 'rxjs';\nimport { catchError, flatMap} from 'rxjs/operators';\nimport { Creme } from '../interfaces';\nimport { CremesDocumentService } from './cremes-document.service';\n\n@Injectable()\nexport class CremesService {\n    /**\n     * Class constructor\n     */\n    constructor(private _cremesDocumentService: CremesDocumentService) {\n    }\n\n    /**\n     * Returns all existing cremes in the list\n     *\n     * @returns {Observable<Creme[] | void>}\n     */\n    listAll(): Observable<Creme[] | void> {\n        return this._cremesDocumentService.find();\n    }\n\n    /**\n     * Returns one cremes of the list matching id in parameter\n     *\n     * @param {string} id of the cremes\n     *\n     * @returns {Observable<Creme>}\n     */\n    one(id: string): Observable<Creme> {\n        return this._cremesDocumentService.findById(id)\n            .pipe(\n                catchError(e => throwError(Biim.preconditionFailed(e.message))),\n                flatMap(_ =>\n                    !!_ ?\n                        of(_) :\n                        throwError(Biim.notFound(`Aucune creme avec l'id '${id}' trouve`))\n                )\n            );\n    }\n}\n"]}